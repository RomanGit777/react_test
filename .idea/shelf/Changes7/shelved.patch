Index: src/components/Pagination/Pagination.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from \"react\";\r\n\r\nexport interface PaginationProps {\r\n    currentPage: number;\r\n    totalPages: number;\r\n    goToPage: (page: number) => void;\r\n}\r\n\r\nexport const Pagination: React.FC<PaginationProps> = ({currentPage, totalPages, goToPage }) => {\r\n    if (currentPage < 1) return null;\r\n    return (\r\n            <div\r\n                className=\"pagination\"\r\n                style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    gap: \"8px\",\r\n                    marginTop: \"20px\",\r\n                }}\r\n                >\r\n\r\n                    {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n                        <button\r\n                            key={page}\r\n                            onClick={() => goToPage(page)}\r\n                            style={{\r\n                                fontWeight: page === currentPage ? \"bold\" : \"normal\",\r\n                                backgroundColor: page === currentPage ? \"#ff4500\" : \"#111\",\r\n                                color: \"#fff\",\r\n                                border: \"none\",\r\n                                borderRadius: \"6px\",\r\n                                padding: \"6px 12px\",\r\n                                cursor: \"pointer\",\r\n                            }}\r\n                        >\r\n                            {page}\r\n                        </button>\r\n                    ))}\r\n\r\n            </div>\r\n    );\r\n};
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/components/Pagination/Pagination.tsx b/src/components/Pagination/Pagination.tsx
--- a/src/components/Pagination/Pagination.tsx	(revision 98c61f3b809f4e39d476afad29658118b8b40ae5)
+++ b/src/components/Pagination/Pagination.tsx	(date 1765365549692)
@@ -6,37 +6,40 @@
     goToPage: (page: number) => void;
 }
 
-export const Pagination: React.FC<PaginationProps> = ({currentPage, totalPages, goToPage }) => {
-    if (currentPage < 1) return null;
+export const Pagination: React.FC<PaginationProps> = ({
+                                                          currentPage,
+                                                          totalPages,
+                                                          goToPage
+                                                      }) => {
+    if (totalPages < 2) return null;
+
     return (
-            <div
-                className="pagination"
-                style={{
-                    display: "flex",
-                    justifyContent: "center",
-                    gap: "8px",
-                    marginTop: "20px",
-                }}
-                >
-
-                    {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (
-                        <button
-                            key={page}
-                            onClick={() => goToPage(page)}
-                            style={{
-                                fontWeight: page === currentPage ? "bold" : "normal",
-                                backgroundColor: page === currentPage ? "#ff4500" : "#111",
-                                color: "#fff",
-                                border: "none",
-                                borderRadius: "6px",
-                                padding: "6px 12px",
-                                cursor: "pointer",
-                            }}
-                        >
-                            {page}
-                        </button>
-                    ))}
-
-            </div>
+        <div
+            className="pagination"
+            style={{
+                display: "flex",
+                gap: "8px",
+                justifyContent: "center",
+                marginTop: "20px",
+            }}
+        >
+            {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (
+                <button
+                    key={page}
+                    onClick={() => goToPage(page)}
+                    style={{
+                        fontWeight: page === currentPage ? "bold" : "normal",
+                        backgroundColor: page === currentPage ? "#ff4500" : "#111",
+                        color: "#fff",
+                        border: "none",
+                        borderRadius: "6px",
+                        padding: "6px 12px",
+                        cursor: "pointer",
+                    }}
+                >
+                    {page}
+                </button>
+            ))}
+        </div>
     );
-};
\ No newline at end of file
+};
Index: src/pages/MoviesPage.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import './MoviesPage.css'\r\nimport {useEffect, useState} from \"react\";\r\nimport type {IMovie} from \"../models/IMovie\";\r\nimport {MoviesList} from \"../components/MoviesList/MoviesList.tsx\";\r\nimport {getMovies} from \"../api/getMovies.ts\";\r\nimport {usePagination} from \"../hooks/UsePagination.tsx\";\r\nimport {Pagination} from \"../components/Pagination/Pagination.tsx\";\r\n\r\nexport const MoviesPage = () => {\r\n    const [movies, setMovies] = useState<IMovie[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        getMovies()\r\n            .then((data) => setMovies(data))\r\n            .catch((err) => console.log(\"Failed to load movies\", err))\r\n            .finally(() => setLoading(false));\r\n    }, []);\r\n    const {currentPage,totalPages,goToPage,currentItems} = usePagination(movies);\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (!movies.length) return <div>No movies found</div>;\r\n\r\n    return (\r\n        <div className={'movies-page-container'}>\r\n            <MoviesList movies={currentItems} />\r\n            <Pagination  goToPage={goToPage} totalPages={totalPages} currentPage={currentPage} />\r\n        </div>\r\n    );\r\n};\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/pages/MoviesPage.tsx b/src/pages/MoviesPage.tsx
--- a/src/pages/MoviesPage.tsx	(revision 98c61f3b809f4e39d476afad29658118b8b40ae5)
+++ b/src/pages/MoviesPage.tsx	(date 1765365582057)
@@ -1,30 +1,47 @@
-import './MoviesPage.css'
-import {useEffect, useState} from "react";
-import type {IMovie} from "../models/IMovie";
-import {MoviesList} from "../components/MoviesList/MoviesList.tsx";
-import {getMovies} from "../api/getMovies.ts";
-import {usePagination} from "../hooks/UsePagination.tsx";
-import {Pagination} from "../components/Pagination/Pagination.tsx";
+import { useSearchParams } from "react-router-dom";
+import { useEffect, useState } from "react";
+import { getMovies } from "../api/getMovies.ts"; // your API to fetch all movies
+import { MovieCard } from "../components/MovieCard/MovieCard.tsx";
+import { Pagination } from "../components/Pagination/Pagination.tsx";
+import type {IMovieSearch} from "../models/IMovieSearch.ts";
+import {usePagination} from "../hooks/UsePagination.tsx";
 
 export const MoviesPage = () => {
-    const [movies, setMovies] = useState<IMovie[]>([]);
-    const [loading, setLoading] = useState(true);
+    const [params, setParams] = useSearchParams();
+    const page = Number(params.get("page") || 1);
+
+    const [movies, setMovies] = useState<IMovieSearch[]>([]);
+    const [loading, setLoading] = useState(false);
 
     useEffect(() => {
-        getMovies()
-            .then((data) => setMovies(data))
-            .catch((err) => console.log("Failed to load movies", err))
-            .finally(() => setLoading(false));
+        setLoading(true);
+        getMovies().then(setMovies).finally(() => setLoading(false));
     }, []);
-    const {currentPage,totalPages,goToPage,currentItems} = usePagination(movies);
 
-    if (loading) return <div>Loading...</div>;
-    if (!movies.length) return <div>No movies found</div>;
+    const { currentItems, totalPages } = usePagination(movies, page, 6);
+
+    const goToPage = (p: number) => {
+        setParams({ page: String(p) });
+        window.scrollTo({ top: 0, behavior: "smooth" });
+    };
 
     return (
-        <div className={'movies-page-container'}>
-            <MoviesList movies={currentItems} />
-            <Pagination  goToPage={goToPage} totalPages={totalPages} currentPage={currentPage} />
+        <div className="movies-page-wrapper">
+            {loading && <div>Loading...</div>}
+            {!loading && (
+                <div className="movies-list">
+                    {currentItems.map((movie) => (
+                        <MovieCard key={movie.id} movie={movie} />
+                    ))}
+                </div>
+            )}
+            {totalPages > 1 && (
+                <Pagination
+                    currentPage={page}
+                    totalPages={totalPages}
+                    goToPage={goToPage}
+                />
+            )}
         </div>
     );
 };
Index: src/components/SearchBar/SearchBar.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import {useEffect, useState} from \"react\";\r\nimport {useNavigate, useSearchParams} from \"react-router-dom\";\r\n\r\nexport const SearchBar = () => {\r\n    const [text, setText] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    const [params] = useSearchParams();\r\n    const query = params.get('query') ?? \"\";\r\n    useEffect(() => {\r\n        if (!query) {\r\n            setText(\"\");\r\n        } else if (query) {\r\n            setText(query);\r\n        }\r\n    }, [query]);\r\n\r\n    function handleSubmit(e: React.FormEvent) {\r\n        e.preventDefault();\r\n        navigate(`/search?query=${encodeURIComponent(text)}`);\r\n    }\r\n\r\n    return (\r\n        <form className={'search-wrapper'} onSubmit={handleSubmit}>\r\n            <input\r\n                placeholder={'Search'}\r\n                value={text}\r\n                onChange={(e) => setText(e.target.value)} />\r\n\r\n            <button type=\"submit\">\r\n                <svg width=\"9\" height=\"9\" viewBox=\"0 0 9 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g clipPath=\"url(#clip0_4_48)\">\r\n                        <path d=\"M7.96163 7.95383L6.29122 6.28718M6.29122 6.28718C6.57695 6.00209 6.8036 5.66365 6.95824 5.29116C7.11288 4.91868 7.19247 4.51945 7.19247 4.11628C7.19247 3.7131 7.11288 3.31388 6.95824 2.94139C6.80361 2.56891 6.57695 2.23046 6.29122 1.94538C6.00549 1.66029 5.66628 1.43414 5.29296 1.27986C4.91964 1.12557 4.51951 1.04616 4.11543 1.04616C3.71135 1.04616 3.31122 1.12557 2.9379 1.27986C2.56457 1.43414 2.22536 1.66029 1.93963 1.94538C1.36258 2.52113 1.03839 3.30203 1.03839 4.11628C1.03839 4.93052 1.36258 5.71142 1.93963 6.28718C2.51669 6.86294 3.29935 7.1864 4.11543 7.1864C4.93151 7.1864 5.71417 6.86294 6.29122 6.28718Z\" stroke=\"#AAB3C0\" strokeWidth=\"1.25\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                    </g>\r\n                    <defs>\r\n                        <clipPath id=\"clip0_4_48\">\r\n                            <rect width=\"9\" height=\"9\" fill=\"white\"/>\r\n                        </clipPath>\r\n                    </defs>\r\n                </svg>\r\n            </button>\r\n        </form>\r\n    );\r\n};
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/components/SearchBar/SearchBar.tsx b/src/components/SearchBar/SearchBar.tsx
--- a/src/components/SearchBar/SearchBar.tsx	(revision 98c61f3b809f4e39d476afad29658118b8b40ae5)
+++ b/src/components/SearchBar/SearchBar.tsx	(date 1765365193460)
@@ -5,39 +5,27 @@
     const [text, setText] = useState("");
     const navigate = useNavigate();
     const [params] = useSearchParams();
-    const query = params.get('query') ?? "";
+    const query = params.get("query") ?? "";
+
+    // Clear input when leaving search page
     useEffect(() => {
-        if (!query) {
-            setText("");
-        } else if (query) {
-            setText(query);
-        }
+        if (!query) setText("");
     }, [query]);
 
-    function handleSubmit(e: React.FormEvent) {
+    const handleSubmit = (e: React.FormEvent) => {
         e.preventDefault();
-        navigate(`/search?query=${encodeURIComponent(text)}`);
-    }
+        if (!text.trim()) return;
+        navigate(`/search?query=${encodeURIComponent(text)}&page=1`);
+    };
 
     return (
-        <form className={'search-wrapper'} onSubmit={handleSubmit}>
+        <form className="search-wrapper" onSubmit={handleSubmit}>
             <input
-                placeholder={'Search'}
+                placeholder="Search"
                 value={text}
-                onChange={(e) => setText(e.target.value)} />
-
-            <button type="submit">
-                <svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
-                    <g clipPath="url(#clip0_4_48)">
-                        <path d="M7.96163 7.95383L6.29122 6.28718M6.29122 6.28718C6.57695 6.00209 6.8036 5.66365 6.95824 5.29116C7.11288 4.91868 7.19247 4.51945 7.19247 4.11628C7.19247 3.7131 7.11288 3.31388 6.95824 2.94139C6.80361 2.56891 6.57695 2.23046 6.29122 1.94538C6.00549 1.66029 5.66628 1.43414 5.29296 1.27986C4.91964 1.12557 4.51951 1.04616 4.11543 1.04616C3.71135 1.04616 3.31122 1.12557 2.9379 1.27986C2.56457 1.43414 2.22536 1.66029 1.93963 1.94538C1.36258 2.52113 1.03839 3.30203 1.03839 4.11628C1.03839 4.93052 1.36258 5.71142 1.93963 6.28718C2.51669 6.86294 3.29935 7.1864 4.11543 7.1864C4.93151 7.1864 5.71417 6.86294 6.29122 6.28718Z" stroke="#AAB3C0" strokeWidth="1.25" strokeLinecap="round" strokeLinejoin="round"/>
-                    </g>
-                    <defs>
-                        <clipPath id="clip0_4_48">
-                            <rect width="9" height="9" fill="white"/>
-                        </clipPath>
-                    </defs>
-                </svg>
-            </button>
+                onChange={(e) => setText(e.target.value)}
+            />
+            <button type="submit">Search</button>
         </form>
     );
-};
\ No newline at end of file
+};
Index: src/api/getMovies.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import axios from \"axios\"\r\nimport type {IMovie} from \"../models/IMovie.ts\";\r\nimport type {IMoviesResponse} from \"../models/IMoviesResponse.ts\";\r\nimport type {IGenresResponse} from \"../models/IGenresResponse.ts\";\r\nimport type {IMovieSearchResponse} from \"../models/IMovieSearchResponse.ts\";\r\nimport type {IMovieSearch} from \"../models/IMovieSearch.ts\";\r\n\r\nexport const getMovies = async (): Promise<IMovie[]> => {\r\n    const {data} = await axios.get<IMoviesResponse>\r\n    (`https://api.themoviedb.org/3/discover/movie?api_key=${import.meta.env.VITE_TMDB_API_KEY}`);\r\n    return data.results\r\n}\r\nexport const getMovieById = async (id: string): Promise<IMovie> => {\r\n    const {data} = await axios.get\r\n    (`https://api.themoviedb.org/3/movie/${id}?api_key=${import.meta.env.VITE_TMDB_API_KEY}`);\r\n    return data\r\n}\r\nexport const getGenres = async (): Promise<IGenresResponse> => {\r\n    const {data} = await axios.get\r\n    (`https://api.themoviedb.org/3/genre/movie/list?api_key=${import.meta.env.VITE_TMDB_API_KEY}`);\r\n    return data\r\n}\r\nexport const getMoviesByGenre = async (genre_ids: string): Promise<IMovie[]> => {\r\n    const {data} = await axios.get<IMoviesResponse>\r\n    (`https://api.themoviedb.org/3/discover/movie?with_genres=${genre_ids}&api_key=${import.meta.env.VITE_TMDB_API_KEY}`);\r\n    return data.results\r\n}\r\n\r\nexport const getMoviesBySearch = async (query: string) : Promise<IMovieSearch[]> => {\r\n    const {data} = await axios.get<IMovieSearchResponse>\r\n    (`https://api.themoviedb.org/3/search/movie?api_key=${import.meta.env.VITE_TMDB_API_KEY}&query=${query}`);\r\n    return data.results\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/api/getMovies.ts b/src/api/getMovies.ts
--- a/src/api/getMovies.ts	(revision 98c61f3b809f4e39d476afad29658118b8b40ae5)
+++ b/src/api/getMovies.ts	(date 1765365153407)
@@ -26,8 +26,13 @@
     return data.results
 }
 
-export const getMoviesBySearch = async (query: string) : Promise<IMovieSearch[]> => {
-    const {data} = await axios.get<IMovieSearchResponse>
-    (`https://api.themoviedb.org/3/search/movie?api_key=${import.meta.env.VITE_TMDB_API_KEY}&query=${query}`);
-    return data.results
-}
\ No newline at end of file
+export const getMoviesBySearch = async (
+    query: string,
+    page: number = 1
+): Promise<IMovieSearch[]> => {
+    const { data } = await axios.get<IMovieSearchResponse>(
+        `https://api.themoviedb.org/3/search/movie?api_key=${import.meta.env.VITE_TMDB_API_KEY}&query=${encodeURIComponent(query)}&page=${page}`
+    );
+
+    return data.results;
+};
\ No newline at end of file
Index: src/pages/SearchPage.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import './SearchPage.css'\r\nimport {useNavigate, useSearchParams} from \"react-router-dom\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getMoviesBySearch} from \"../api/getMovies.ts\";\r\nimport type {IMovieSearch} from \"../models/IMovieSearch.ts\";\r\nimport {usePagination} from \"../hooks/UsePagination.tsx\";\r\nimport {Pagination} from \"../components/Pagination/Pagination.tsx\";\r\nimport {SearchMovieList} from \"../components/SearchMovieList/SearchMovieList.tsx\";\r\n\r\nexport const SearchPage = () => {\r\n   const [params] = useSearchParams();\r\n   const query = params.get(\"query\") ?? \"\";\r\n\r\n    const [movies, setMovies] = useState<IMovieSearch[]>([]);\r\n    const {currentPage,totalPages,goToPage, currentItems} = usePagination(movies);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        navigate(`/search?query=${query}&page=1`, { replace: true });\r\n    }, [query]);\r\n\r\n    useEffect(() => {\r\n        if(!query.trim()) {\r\n            setMovies([]);\r\n            return;\r\n        }\r\n        getMoviesBySearch(query)\r\n            .then(setMovies)\r\n    }, [query])\r\n    return (\r\n    <div className={'search-page-wrapper'}>\r\n            <SearchMovieList movies={currentItems} />\r\n            <Pagination currentPage={currentPage} totalPages={totalPages} goToPage={goToPage} />\r\n    </div>\r\n        )};\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/pages/SearchPage.tsx b/src/pages/SearchPage.tsx
--- a/src/pages/SearchPage.tsx	(revision 98c61f3b809f4e39d476afad29658118b8b40ae5)
+++ b/src/pages/SearchPage.tsx	(date 1765365607081)
@@ -1,36 +1,50 @@
-import './SearchPage.css'
-import {useNavigate, useSearchParams} from "react-router-dom";
-import {useEffect, useState} from "react";
-import {getMoviesBySearch} from "../api/getMovies.ts";
-import type {IMovieSearch} from "../models/IMovieSearch.ts";
-import {usePagination} from "../hooks/UsePagination.tsx";
-import {Pagination} from "../components/Pagination/Pagination.tsx";
-import {SearchMovieList} from "../components/SearchMovieList/SearchMovieList.tsx";
+import { useSearchParams } from "react-router-dom";
+import { useEffect, useState } from "react";
+import { getMoviesBySearch } from "../api/getMovies.ts";
+import { Pagination } from "../components/Pagination/Pagination.tsx";
+import type { IMovieSearch } from "../models/IMovieSearch.ts";
+import { usePagination } from "../hooks/UsePagination.tsx";
+import { SearchMovieList } from "../components/SearchMovieList/SearchMovieList.tsx";
 
 export const SearchPage = () => {
-   const [params] = useSearchParams();
-   const query = params.get("query") ?? "";
+    const [params, setParams] = useSearchParams();
+    const query = params.get("query") ?? "";
+    const page = Number(params.get("page") || 1);
 
     const [movies, setMovies] = useState<IMovieSearch[]>([]);
-    const {currentPage,totalPages,goToPage, currentItems} = usePagination(movies);
-
-    const navigate = useNavigate();
-
-    useEffect(() => {
-        navigate(`/search?query=${query}&page=1`, { replace: true });
-    }, [query]);
+    const [loading, setLoading] = useState(false);
 
     useEffect(() => {
-        if(!query.trim()) {
+        if (!query.trim()) {
             setMovies([]);
             return;
         }
-        getMoviesBySearch(query)
+        setLoading(true);
+        getMoviesBySearch(query, page)
             .then(setMovies)
-    }, [query])
+            .finally(() => setLoading(false));
+    }, [query, page]);
+
+    const { currentItems, totalPages } = usePagination(movies, page, 6);
+
+    const goToPage = (p: number) => {
+        setParams({ query, page: String(p) });
+        window.scrollTo({ top: 0, behavior: "smooth" });
+    };
+
     return (
-    <div className={'search-page-wrapper'}>
+        <div className="search-page-wrapper">
+            {loading && <div>Loading...</div>}
+
             <SearchMovieList movies={currentItems} />
-            <Pagination currentPage={currentPage} totalPages={totalPages} goToPage={goToPage} />
-    </div>
-        )};
+
+            {totalPages > 1 && (
+                <Pagination
+                    currentPage={page}
+                    totalPages={totalPages}
+                    goToPage={goToPage}
+                />
+            )}
+        </div>
+    );
+};
Index: src/hooks/UsePagination.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { useSearchParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport function usePagination<T>(items: T[], itemsPerPage: number = 6) {\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    const [currentPage, setCurrentPage] = useState(\r\n        Number(searchParams.get(\"page\") || 1)\r\n    );\r\n\r\n    const totalPages = Math.ceil(items.length / itemsPerPage);\r\n    const firstIndex = (currentPage - 1) * itemsPerPage;\r\n    const currentItems = items.slice(firstIndex, firstIndex + itemsPerPage);\r\n\r\n    // \uD83D\uDD25 Sync state with URL\r\n    useEffect(() => {\r\n        const page = Number(searchParams.get(\"page\") || 1);\r\n        setCurrentPage(page);\r\n    }, [searchParams]);\r\n\r\n\r\n\r\n    const goToPage = (page: number) => {\r\n        if (page < 1 || page > totalPages) return;\r\n        setSearchParams({ page: String(page) });\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n    };\r\n\r\n    return { currentPage, totalPages, currentItems, goToPage };\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/hooks/UsePagination.tsx b/src/hooks/UsePagination.tsx
--- a/src/hooks/UsePagination.tsx	(revision 98c61f3b809f4e39d476afad29658118b8b40ae5)
+++ b/src/hooks/UsePagination.tsx	(date 1765365536466)
@@ -1,29 +1,12 @@
-import { useSearchParams } from "react-router-dom";
-import { useEffect, useState } from "react";
-
-export function usePagination<T>(items: T[], itemsPerPage: number = 6) {
-    const [searchParams, setSearchParams] = useSearchParams();
-    const [currentPage, setCurrentPage] = useState(
-        Number(searchParams.get("page") || 1)
-    );
-
+export function usePagination<T>(
+    items: T[],
+    currentPage: number,
+    itemsPerPage: number = 6
+) {
     const totalPages = Math.ceil(items.length / itemsPerPage);
-    const firstIndex = (currentPage - 1) * itemsPerPage;
+    const safePage = Math.min(Math.max(currentPage, 1), totalPages || 1);
+    const firstIndex = (safePage - 1) * itemsPerPage;
     const currentItems = items.slice(firstIndex, firstIndex + itemsPerPage);
 
-    // ðŸ”¥ Sync state with URL
-    useEffect(() => {
-        const page = Number(searchParams.get("page") || 1);
-        setCurrentPage(page);
-    }, [searchParams]);
-
-
-
-    const goToPage = (page: number) => {
-        if (page < 1 || page > totalPages) return;
-        setSearchParams({ page: String(page) });
-        window.scrollTo({ top: 0, behavior: "smooth" });
-    };
-
-    return { currentPage, totalPages, currentItems, goToPage };
+    return { currentItems, totalPages };
 }
